## 分片
- 一个分片就是一个Lucene的实例，它本身就是一个完整的搜索引擎
- Elasticsearch 是利用分片将数据分发到集群内各处的。分片是数据的容器，文档保存在分片内，分片又被分配到集群内的各个节点里。
- 技术上来说，一个主分片最大能够存储 Integer.MAX_VALUE - 128 个文档。
- 在索引建立的时候就已经确定了主分片数，但是副本分片数可以随时修改。
- 副本（replica）是数据的完整拷贝，副本分片只是某个主分片的拷贝
- 在同一个节点上既保存原始数据又保存副本是没有意义的，因为一旦失去了那个节点，我们也将丢失该节点上的所有副本数据。
- 如果增加副本分片而节点数目却不变，并不能提高性能，因为每个分片从节点上获得的资源会变少。你需要更多的硬件资源来提升吞吐量。
- 但是更多的副本分片数提高了数据冗余量：按照上面的节点配置，我们可以在失去2个节点的情况下不丢失任何数据。

## 集群健康
- 绿色：所有主分片和副本分片都正常运行
- 黄色：所有主分片都正常运行，但不是所有副本分片都正常运行
- 红色：有主分片没能正常运行

## 索引
- 在 Elasticsearch 中， 每个字段的所有数据 都是 默认被索引的 。 即每个字段都有为了快速检索设置的专用倒排索引。而且，不像其他多数的数据库，它能在 相同的查询中 使用所有这些倒排索引，并以惊人的速度返回结果。

## 文档
一个文档本质上就是一个被序列化为键值对的 JSON 对象。它是指最顶层或者根对象, 这个根对象被序列化成 JSON 并存储到 Elasticsearch 中，指定了唯一 ID。
